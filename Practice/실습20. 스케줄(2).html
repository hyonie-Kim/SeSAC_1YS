<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
    <title>실습20. 스케줄(2)</title>
    <style>
        /* body div{
            border: 2px solid greenyellow;
        } */
        .calendar{
            position: absolute;
            right: 0;
            margin-right: 100px;
            
        }
        .calendar tr td {
            cursor: pointer;
        }
        tr td:last-child{
            color: blue;
        }
        tr td:first-child{
            color: red;
        }

        
    </style>
</head>
<body>
    
    <hr>
    <div>
    날짜 : <input type="text" class="day"> <br>
    내용 : <input type="text" class="content"> <br>
    <input type="button" value="작성" class="btn">
    </div>
    
    <!-- 달력 -->
    <div class="calendar">
        <table border="0" cellspacing="0" cellpadding="20">
            <div style="color: green; text-align: center; font-size: 20px;">2022년 11월</div>
            <tr>
              <td>日</td>
              <td>月</td>
              <td>火</td>
              <td>水</td>
              <td>木</td>
              <td>金</td>
              <td>土</td>
            </tr>
            <tr>
              <td></td>
              <td></td>
              <td>1</td>
              <td>2</td>
              <td>3</td>
              <td>4</td>
              <td>5</td>
            </tr>
            <tr>
              <td>6</td>
              <td>7</td>
              <td>8</td>
              <td>9</td>
              <td>10</td>
              <td>11</td>
              <td>12</td>
            </tr>
            <tr>
              <td>13</td>
              <td>14</td>
              <td>15</td>
              <td>16</td>
              <td>17</td>
              <td>18</td>
              <td>19</td>
            </tr>
            <tr>
              <td>20</td>
              <td>21</td>
              <td>22</td>
              <td>23</td>
              <td>24</td>
              <td>25</td>
              <td>26</td>
            </tr>
            <tr>
              <td>27</td>
              <td>28</td>
              <td>29</td>
              <td>30</td>
              <td></td>
              <td></td>
              <td></td>
            </tr>
          </table>
    </div>
    <script>
        let target;
        let day = document.querySelector(".day")
        // console.log(day);

        $("td").on("click", function(){
            console.log("this: ",this);
            console.log("this: ",$(this).text());
        
            target = this;
            day.value = $(this).text()            
        })


        $(".btn").on("click", function(){
            
            let content = document.querySelector(".content");
            console.log("작성글",content.value)
            console.log("target:",target)
            
            if ( target.children.length > 0 ) {
                let item = target.children[0];
                item.innerText =content.value;
            } else {
            let item = document.createElement("div");
            // 자식태그
           item.style.fontSize = "3px"
           item.innerText = content.value;
           
            $(target).append(item); 
            }
            
            
        })

        
        
        // <<<<<<김규리 쌤 코드>>>>>>
        // var target
        
        // // 1. td 태그 전체에 클릭 이벤트
        // $("td").on("click", function(obj){  // obj 는 현재 click 이벤트가 발동한 마우스 이벤트 객체
            
        //      target = obj.currentTarget;    // obj.currentTarget은 현재 이벤트가 발생한 요소
        //      console.log("target: ", target);
        //      console.log(":", target.children) // 클릭한 요소의 자식들을 가져오는 것. 자식들이 0개 이든 1개든 list로 가져와진다.

        //      $(".day").val($(obj.currentTarget).text()); //선택한 본인
        //      // obj.currentTarget.children[0]은 클릭한 요소의 자식들 중 첫번째 자식 의미
        //      // obj.currentTarget.children[0].text() 클릭한 요소의 첫번째 자식의 글자를 가져오겠다.
        // })

        // function writeSchedule(){
        //     var day = $(".day").val();
        //     var content = $(".content").val();

        //     if(target.children.lenght > 1){     // target.children.lenght 선택한 요소의 자식들의 개수를 가져온다.
        //         console.log("dd",target.children.lenght)
        //     }
        // }
    </script>
</body>
</html>